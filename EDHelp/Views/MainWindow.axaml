<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:EDHelp.ViewModels"
        xmlns:views="using:EDHelp.Views"
        x:Class="EDHelp.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="EDH Deck Builder"
        Width="1080" Height="720"
        WindowStartupLocation="CenterScreen"
        DragDrop.AllowDrop="True">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Grid>
        <Border x:Name="ImportView"
                IsVisible="{Binding ShowImportView}"
                Background="#1e1e1e"
                BorderBrush="#404040"
                BorderThickness="2"
                CornerRadius="8"
                Margin="50">
            
            <Border.Styles>
                <Style Selector="Border.dragover">
                    <Setter Property="BorderBrush" Value="#0078d4"/>
                    <Setter Property="Background" Value="#0078d420"/>
                </Style>
            </Border.Styles>
            
            <StackPanel HorizontalAlignment="Center" 
                       VerticalAlignment="Center"
                       Spacing="20">
                
                <TextBlock Text="ðŸ“‹" FontSize="72" HorizontalAlignment="Center"/>
                
                <TextBlock Text="{Binding DragText}"
                          FontSize="18"
                          Foreground="#cccccc"
                          HorizontalAlignment="Center"
                          TextWrapping="Wrap"
                          MaxWidth="400"/>
                
                <Button Content="Or Browse for File"
                       HorizontalAlignment="Center"
                       Padding="20,10"
                       Click="BrowseFile_Click"/>
                
            </StackPanel>
        </Border>

        <!-- Deck Builder View -->
        <ContentControl IsVisible="{Binding !ShowImportView}"
                       Content="{Binding CurrentDeckBuilder}">
            <ContentControl.ContentTemplate>
                <DataTemplate DataType="vm:DeckBuilderViewModel">
                    <views:DeckBuilderView/>
                </DataTemplate>
            </ContentControl.ContentTemplate>
        </ContentControl>
    </Grid>
</Window>